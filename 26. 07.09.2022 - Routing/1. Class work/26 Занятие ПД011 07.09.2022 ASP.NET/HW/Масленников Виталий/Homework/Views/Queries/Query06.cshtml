@using Microsoft.AspNetCore.Mvc.TagHelpers
@using Homework.TagHelpers
@model IQueryable<Homework.Models.Sale>

@{
    ViewBag.Title = "Запрос с параметрами";
    Layout = "_Layout";
}


<form class="d-inline-block ms-3" asp-action="Query06">
     <label class="form-label me-1" for="fromPrice">Нижняя цена продажи: </label>
            <input class="form-select-sm me-3" id="fromPrice" name="fromPrice" type="number" />
    
            <label class="form-label me-1" for="toPrice">Верхняя цена продажи: </label>
            <input class="form-select-sm me-3" id="toPrice" name="toPrice" type="number" />
    
            <button class="btn btn-sm btn-outline-success ms-1 align-baseline" type="submit">Выбрать</button>
</form>


<table class="table table-striped">
    <thead class="border-dark">
    <tr>
        <th>Наименование товара</th>
        <th>Цена продажи</th>
        <th>Цена закупки</th>
        <th>Дата продажи</th>
    </tr>
    </thead>

    <tbody class="color-2">
    @foreach (var sale in Model!) {
        <tr>
            <td>@sale.Purchase!.Goods!.Name</td>
            <td>@($"{sale.Price:n2}")</td>
            <td>@($"{sale.Purchase.Price:n2}")</td>
            <td>@($"{sale.Purchase.PurchaseDate:dd/MM/yyyy}")</td>
        </tr>
    }
    </tbody>
</table>
