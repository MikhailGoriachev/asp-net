@{
    ViewBag.Title = "Главная";
}

<section class="mx-5 my-4 bg-light shadow-sm border rounded-3 h-75 p-3">

<!-- #region Теоретическая часть -->
<details open>
    <summary class="h5 text-primary">
        Теоретическая часть
    </summary>

    <ul>
        <li>Понятие о тег-хелперах, определяемых программистом</li>
        <li>Создание тег-хелпера</li>
        <li>Использование тег-хэлпера в разметке</li>
        <li>Роль открытых свойств класса тег-хэлпера для передачи атрибутов HTML, атрибутов данных</li>
    </ul>

</details>
<!-- #endregion -->


<!-- #region Практическая часть -->
<details open>
<summary class="h5 text-primary">
    Практическая часть
</summary>

<p>
    Разработайте приложение ASP.NET Core MVC для работы с базой данных при помощи Entity Framework Core 6.
    Стилизацию разметки выполняйте при помощи Bootstrap. Реализуйте вывод задания, вывод всех записей таблиц
    базы данных.
</p>


<p>Все таблицы должны быть проинициированы не менее чем 10 записями.</p>

<p>
    Требуется также выполнение запросов по заданию.
</p>

<table class="table table-bordered">
    <tdody>
        <tr>
            <td>
                <i>База данных <b>«Оптовый магазин. Учет продаж»</b></i>
            </td>
        </tr>
        <tr>
            <td>
                <b>Описание предметной области</b>
                Оптовый магазин закупает товар по <b>Цене закупки единицы товара</b> и продает товар по
                <b>Цене продажи единицы товара</b>. Разница между ценой продажи и ценой закупки составляет
                прибыль магазина от реализации единицы товара.
                Каждый продавец получает комиссионное вознаграждение за проданный товар. Размер этого
                вознаграждения равен:
                <b>
                    Цена продажи единицы товара * Кол-во проданных единиц товара *
                    Процент комиссионных продавца
                </b>.
                Прибыль от продажи партии товара вычисляется как
                <b>
                    (Цена продажи единицы товара - Цена закупки
                    единицы товара) * Кол-во проданных единиц товара
                </b>.
            </td>
        </tr>
        <tr>
            <td class="fw-bolder fst-italic">
                База данных должна включать как минимум таблицы ТОВАРЫ, ПРОДАВЦЫ, ПРОДАЖИ, содержащие следующую
                информацию:
            </td>
        </tr>
        <tr>
            <td>База данных «Оптовый магазин. Учет продаж»</td>
        </tr>
        <tr>
            <td>Описание предметной области</td>
        </tr>
        <tr>
            <td>
                Оптовый магазин закупает товар по Цене закупки единицы товара и продает товар по Цене продажи
                единицы товара. Разница между ценой продажи и ценой закупки составляет прибыль магазина от
                реализации единицы товара.
            </td>
        </tr>
        <tr>
            <td>
                Каждый продавец получает комиссионное вознаграждение за проданный товар. Размер этого
                вознаграждения равен: Цена продажи единицы товара * Кол-во проданных единиц товара * Процент
                комиссионных продавца.
            </td>
        </tr>
        <tr>
            <td>
                Прибыль от продажи партии товара вычисляется как (Цена продажи единицы товара - Цена закупки
                единицы товара) * Кол-во проданных единиц товара.
            </td>
        </tr>
        <tr>
            <td>
                База данных должна включать как минимум таблицы ТОВАРЫ, ПРОДАВЦЫ, ПРОДАЖИ, содержащие следующую
                информацию:
            </td>
        </tr>
        <tr>
            <td>Наименование товара</td>
        </tr>
        <tr>
            <td>Единица измерения товара</td>
        </tr>
        <tr>
            <td>Цена закупки единицы товара</td>
        </tr>
        <tr>
            <td>Дата продажи товара</td>
        </tr>
        <tr>
            <td>Цена продажи единицы товара</td>
        </tr>
        <tr>
            <td>Количество проданных единиц товара</td>
        </tr>
        <tr>
            <td>Фамилия продавца, оформившего продажу</td>
        </tr>
        <tr>
            <td>Имя продавца, оформившего продажу</td>
        </tr>
        <tr>
            <td>Отчество продавца, оформившего продажу</td>
        </tr>
        <tr>
            <td>Процент комиссионных продавца, оформившего продажу</td>
        </tr>
    </tdody>
</table>


<table class="table table-bordered">
    <thead>
    <tr>
        <th>Номер запроса</th>
        <th>Тип запроса</th>
        <th>Какую задачу решает запрос</th>
    </tr>
    </thead>

    <tbody>
    <tr>
        <td>1</td>
        <td>Фильтр</td>
        <td>
            Выбирает из информацию о товарах, единицей измерения которых является «шт» (штуки) и цена закупки
            составляет меньше 200 руб. Значения задавать параметрами
        </td>
    </tr>
    <tr>
        <td>2</td>
        <td>Фильтр</td>
        <td>
            Выбирает информацию о товарах, цена закупки которых больше 500 руб. за единицу товара. Значения
            задавать параметрами
        </td>
    </tr>
    <tr>
        <td>3</td>
        <td>Фильтр</td>
        <td>
            Выбирает информацию о товарах с заданным наименованием (например, «чехол защитный»), для которых цена
            закупки меньше 1800 руб. Значения задавать параметрами
        </td>
    </tr>
    <tr>
        <td>4</td>
        <td>Запрос с параметрами</td>
        <td>
            Выбирает информацию о продавцах с заданным значением процента комиссионных. Значения задавать
            параметрами
        </td>
    </tr>
    <tr>
        <td>5</td>
        <td>Запрос с параметрами</td>
        <td>
            Выбирает информацию обо всех зафиксированных фактах продажи товаров (Наименование товара,
            Цена закупки, Цена продажи, дата продажи), для которых Цена продажи оказалась в некоторых заданных
            границах. Значения задавать параметрами
        </td>
    </tr>
    <tr>
        <td>6</td>
        <td>Запрос с вычисляемыми полями</td>
        <td>
            Вычисляет прибыль от продажи за каждый проданный товар. Включает поля
            <b>Дата продажи,Наименование товара, Цена закупки, Цена продажи, Количество проданных единиц, Прибыль</b>.
            Сортировка по полю <b>Наименование товара</b>
        </td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
    </tr>
    <tr>
        <td>9</td>
        <td>Итоговый запрос</td>
        <td>
            Выполняет группировку по полю <b>Наименование товара</b>. Для каждого наименования вычисляет
            среднюю цену закупки товара, количество закупок
        </td>
    </tr>
    <tr>
        <td>10</td>
        <td>Итоговый запрос</td>
        <td>
            Выполняет группировку по полю <b>Код продавца</b> из таблицы <b>ПРОДАЖИ</b>. Для каждого продавца
            вычисляет среднее значение по полю <b>Цена продажи единицы товара</b>, количество продаж
        </td>
    </tr>
    </tbody>
</table>

<p>
    Вывод записей всех таблиц реализовать с использованием постраничной навигации. Должна быть реализована
    сортировка по столбцам таблицы <b>ПРОДАЖИ</b> (по убыванию и по возрастанию):
</p>

<ul>
    <li>Идентификатор</li>
    <li>Дата продажи</li>
    <li>Цена продажи</li>
</ul>

<p>Разработайте и используйте тег-хелперы для вывода записей таблиц.</p>

<p>
    Требуется реализовать добавление, редактирование для всех таблиц. Для таблицы <b>ПРОДАЖИ</b>
    реализуйте также и удаление записей.</p>

</details>
<!-- #endregion -->

<!-- #region Дополнительно -->
<details open>
    <summary class="h5 text-primary">
        Дополнительно
    </summary>

    <p>
        Запись занятия можно скачать по
        <a href="https://cloud.mail.ru/public/61pj/fC7gGgq4y" target="_blank"><b>этой ссылке</b></a>,
        материалы занятия в этом же архиве.
    </p>

</details>
<!-- #endregion -->
</section>
